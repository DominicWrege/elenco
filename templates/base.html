<!DOCTYPE html>
<html lang="en">
{% let prefix = "/web" %}
{% let title = "Elenco" %}
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/static/pure-min.css">
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="/static/modal-alert.css">
    <script src="/static/script.js"></script>
    <title>{{ title }} Podcast Dir</title>
</head>

<body>
    <div class="menu pure-menu">
        <span class="pure-menu-heading"><h2>{{ title }}</h2></b></span>
        <ul class="pure-menu-list">

            {% match permission %}
                {% when Some with(p) %}
                        <li class="pure-menu-item">
                            <a href="{{ prefix }}/auth/logout" class="pure-menu-link">Logout</a>
                        </li>
                        <li class="pure-menu-item">
                            <a href="{{ prefix }}/auth/profile" class="pure-menu-link">My Profile</a>
                        </li>
                        <li class="pure-menu-item">
                            <a href="{{ prefix }}/auth/new-feed" class="pure-menu-link">New Podcast</a>
                        </li>
                    {% match p %}
                        {% when Permission::Admin %}
                            <li class="pure-menu-item">
                                <a href="{{ prefix }}/auth/admin/manage" class="pure-menu-link">Moderator</a>
                            </li>
                        {% when Permission::User %}
                        {% endmatch%}
                    {% when None %}
                        <li class="pure-menu-item">
                            <a href="{{ prefix }}/login" class="pure-menu-link">Login</a>
                        </li>
                        <li class="pure-menu-item">
                            <a href="{{ prefix }}/register" class="pure-menu-link">Register</a>
                        </li>
            {% endmatch %}
            <li class="pure-menu-item">
                <a href="/api/feeds" target="_blank" class="pure-menu-link">API (Feeds)</a>
            </li>
        </ul>
    </div>
    <main>{% block content %} {% endblock %}</main>
    <div id="modal-alert" hidden></div>
</body>

</html>